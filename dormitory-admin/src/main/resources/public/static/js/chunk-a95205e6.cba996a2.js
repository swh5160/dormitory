(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a95205e6"],{"0bb4":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n("b775"),a=n("751a"),c="/api/notice";function o(e){return Object(r["a"])({url:"".concat(c,"/get/page"),method:a["a"].GET,params:e})}function i(e){return Object(r["a"])({url:"".concat(c),method:a["a"].POST,data:e})}function s(e){return Object(r["a"])({url:"".concat(c,"/").concat(e),method:a["a"].DELETE})}function u(e){return Object(r["a"])({url:"".concat(c,"/get/recent/").concat(e),method:a["a"].GET})}},ab43:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container"},[n("avue-crud",{attrs:{data:e.records,option:e.option,page:e.page,search:e.search},on:{"update:page":function(t){e.page=t},"update:search":function(t){e.search=t},"size-change":e.sizeChange,"current-change":e.currentChange,"search-change":e.searchChange,"search-reset":e.resetChange,"row-save":e.rowSave,"row-update":e.rowUpdate,"row-del":e.rowDel},scopedSlots:e._u([{key:"contentForm",fn:function(t){return[n("editor",{attrs:{"min-height":200},model:{value:e.form.content,callback:function(t){e.$set(e.form,"content",t)},expression:"form.content"}})]}}]),model:{value:e.form,callback:function(t){e.form=t},expression:"form"}})],1)},a=[],c=(n("ac1f"),n("841c"),n("0bb4")),o=n("095c"),i={name:"index",components:{Editor:o["a"]},data:function(){return{form:{},page:{total:0,layout:"total, sizes, prev, pager, next, jumper"},records:[],search:{title:""},option:{align:"center",searchMenuSpan:8,index:!0,indexLabel:"序号",column:[{label:"标题",prop:"title",search:!0,rules:[{required:!0,message:"请输入标题",trigger:"blur"}]},{label:"作者",prop:"author",rules:[{required:!0,message:"请输入作者",trigger:"blur"}]},{label:"内容",formslot:!0,prop:"content",hide:!0,rules:[{required:!0,message:"请输入内容",trigger:"blur"}]},{label:"创建时间",prop:"gmtCreate",display:!1,width:200},{label:"修改时间",prop:"gmtModified",display:!1,width:200}]},content:void 0}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.search.current=this.page.currentPage,this.search.size=this.page.pageSize,Object(c["b"])(this.search).then((function(t){e.records=t.data.records,e.page.total=t.data.total}))},rowSave:function(e,t,n){var r=this;Object(c["d"])(e).then((function(e){r.msgNoticeSuccess("新增成功"),r.getList()})),t()},rowUpdate:function(e,t,n,r){var a=this;Object(c["d"])(e).then((function(e){a.msgNoticeSuccess("修改成功"),a.getList()})),n()},rowDel:function(e,t){var n=this;this.$confirm("此操作将永久删除该信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(c["a"])(e.id).then((function(e){n.msgNoticeSuccess("删除成功"),n.getList()}))})).catch((function(){}))},resetChange:function(e){this.search.username="",this.getList()},searchChange:function(e,t){this.search.username=e.username,this.getList(),t()},sizeChange:function(e){this.page.currentPage=1,this.page.pageSize=e,this.getList()},currentChange:function(e){this.page.currentPage=e,this.getList()}}},s=i,u=n("2877"),h=Object(u["a"])(s,r,a,!1,null,"3df537cb",null);t["default"]=h.exports}}]);